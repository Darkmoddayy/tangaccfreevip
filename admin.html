<!DOCTYPE html>
<html lang="vi">
<head>
<meta charset="UTF-8">
<title>ADMIN</title>
<style>
body{
background:#000;
color:#0ff;
font-family:Arial;
text-align:center;
}

.box{
border:2px solid #0ff;
padding:20px;
margin:20px;
box-shadow:0 0 15px #0ff;
}

input,button,textarea{
padding:10px;
margin:5px;
width:80%;
}

button{
background:#0ff;
border:none;
font-weight:bold;
}
</style>
</head>

<body>

<!-- LOGIN -->
<div id="loginBox" class="box">
<h2>ğŸ” ADMIN LOGIN</h2>
<input type="password" id="pass" placeholder="Nháº­p máº­t kháº©u">
<br>
<button onclick="login()">ÄÄ‚NG NHáº¬P</button>
<p id="msg"></p>
</div>

<!-- DASHBOARD -->
<div id="dashboard" class="box" style="display:none">
<h2>âš¡ ADMIN DASHBOARD</h2>

<p>ğŸ“¦ Import acc</p>
<textarea id="importBox" placeholder="tk|mk"></textarea>
<br>
<button onclick="importAcc()">IMPORT</button>

<h3>ğŸ“‹ Danh sÃ¡ch acc</h3>
<div id="list"></div>

<br>
<button onclick="logout()">ÄÄ‚NG XUáº¤T</button>
</div>

<script type="module">

import { initializeApp } from "https://www.gstatic.com/firebasejs/12.9.0/firebase-app.js";
import { getDatabase, ref, push, onValue, remove } from "https://www.gstatic.com/firebasejs/12.9.0/firebase-database.js";

const firebaseConfig = {
apiKey: "AIzaSyCNeMxQYCA3C58k1RtC4XyKayQnk-xYxkg",
authDomain: "tangaccfreevip-2f58c.firebaseapp.com",
databaseURL: "https://tangaccfreevip-2f58c-default-rtdb.asia-southeast1.firebasedatabase.app",
projectId: "tangaccfreevip-2f58c"
};

const app = initializeApp(firebaseConfig);
const db = getDatabase(app);

window.login = function(){
const pass = document.getElementById("pass").value;

if(pass==="123456"){
document.getElementById("loginBox").style.display="none";
document.getElementById("dashboard").style.display="block";
loadAcc();
}else{
document.getElementById("msg").innerHTML="âŒ Sai máº­t kháº©u";
}
}

window.logout = function(){
location.reload();
}

function loadAcc(){
const accRef = ref(db,"acc");

onValue(accRef,snap=>{
let html="";
snap.forEach(data=>{
html+=`
<p>
${data.val()}
<button onclick="delAcc('${data.key}')">X</button>
</p>
`;
})
document.getElementById("list").innerHTML=html;
})
}

window.importAcc = function(){
const lines = document.getElementById("importBox").value.split("\n");

lines.forEach(acc=>{
if(acc.trim()!=""){
push(ref(db,"acc"),acc.trim())
}
})

alert("âœ… ÄÃ£ import");
}

window.delAcc = function(id){
remove(ref(db,"acc/"+id))
}

</script>
</body>
</html>
