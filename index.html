<!DOCTYPE html>
<html lang="vi">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width,initial-scale=1.0">
<title>DARKMODDAYY VIP</title>

<style>
body{
  background:#000;
  color:#0ff;
  font-family:sans-serif;
  text-align:center;
}

button{
  padding:15px 25px;
  font-size:18px;
  border:none;
  border-radius:12px;
  background:#0ff;
  color:#000;
  box-shadow:0 0 15px #0ff;
}

.locked{
  filter:blur(3px);
  pointer-events:none;
  opacity:.6;
}

.shake{
  animation:shake .4s infinite;
}

@keyframes shake{
0%{transform:translateX(0)}
25%{transform:translateX(-5px)}
50%{transform:translateX(5px)}
75%{transform:translateX(-5px)}
100%{transform:translateX(0)}
}

.popup{
position:fixed;
top:50%;
left:50%;
transform:translate(-50%,-50%) scale(0);
background:#000;
border:2px solid #0ff;
box-shadow:0 0 25px #0ff;
padding:25px;
border-radius:15px;
font-size:22px;
transition:.3s;
}

.popup.show{
transform:translate(-50%,-50%) scale(1);
}

.progress{
width:80%;
height:20px;
background:#111;
margin:15px auto;
border-radius:10px;
overflow:hidden;
}

.bar{
height:100%;
background:#0ff;
width:0%;
}
</style>
</head>

<body>

<h2>ğŸ NHáº¬N ACC VIP NGáºªU NHIÃŠN</h2>

<div>ğŸ“¦ Acc cÃ²n: <span id="total">0</span></div>

<div class="progress">
  <div class="bar" id="bar"></div>
</div>

<button id="nhanacc">NHáº¬N ACC</button>

<h3>ğŸ“œ Lá»‹ch sá»­ Ä‘Ã£ nháº­n</h3>
<div id="history"></div>

<div id="popup" class="popup">
ğŸš« Háº¾T ACC ğŸš«<br>Quay láº¡i sau
</div>

<script type="module">

import { initializeApp } from "https://www.gstatic.com/firebasejs/12.9.0/firebase-app.js";
import { getDatabase, ref, onValue, get, remove, set } from "https://www.gstatic.com/firebasejs/12.9.0/firebase-database.js";

const firebaseConfig = {
apiKey:"AIzaSyCNeMxQYCA3C58k1RtC4XyKayQnk-xYxkg",
authDomain:"tangaccfreevip-2f58c.firebaseapp.com",
databaseURL:"https://tangaccfreevip-2f58c-default-rtdb.asia-southeast1.firebasedatabase.app",
projectId:"tangaccfreevip-2f58c"
};

const app = initializeApp(firebaseConfig);
const db = getDatabase(app);

const accRef = ref(db,"acc");

const device = localStorage.getItem("device") || Math.random().toString(36).slice(2);
localStorage.setItem("device",device);

const today = new Date().toLocaleDateString();

function loadProgress(){
const data = JSON.parse(localStorage.getItem("nhan")||"{}");

if(data.date!==today){
localStorage.setItem("nhan",JSON.stringify({date:today,count:0,history:[]}));
}

const count = JSON.parse(localStorage.getItem("nhan")).count;

document.getElementById("bar").style.width = (count/2*100)+"%";
}

loadProgress();

onValue(accRef,snap=>{

const total = snap.size || 0;
document.getElementById("total").innerText = total;

const btn = document.getElementById("nhanacc");

if(total<=0){
btn.disabled=true;
btn.classList.add("locked","shake");
document.getElementById("popup").classList.add("show");
}else{
btn.disabled=false;
btn.classList.remove("locked","shake");
document.getElementById("popup").classList.remove("show");
}

});

document.getElementById("nhanacc").onclick = async()=>{

const data = JSON.parse(localStorage.getItem("nhan"));

if(data.count>=2){
alert("Báº¡n Ä‘Ã£ nháº­n tá»‘i Ä‘a 2 acc hÃ´m nay");
return;
}

const snap = await get(accRef);

if(!snap.exists()){
alert("Háº¿t acc");
return;
}

const list = [];

snap.forEach(s=>list.push({key:s.key,...s.val()}));

const random = list[Math.floor(Math.random()*list.length)];

window.location.href="https://link4m.co/st?api=69100b1afc003f0eba59c189&url="+location.href+"?nhan="+random.key;

};

const url = new URL(location.href);

if(url.searchParams.get("nhan")){

const key = url.searchParams.get("nhan");

const data = JSON.parse(localStorage.getItem("nhan"));

data.count++;
data.history.push(key);

localStorage.setItem("nhan",JSON.stringify(data));

loadProgress();

const accSnap = await get(ref(db,"acc/"+key));

alert("ACC: "+accSnap.val().user+" | "+accSnap.val().pass);

remove(ref(db,"acc/"+key));

document.getElementById("history").innerHTML=data.history.join("<br>");

}

</script>
</body>
</html>
